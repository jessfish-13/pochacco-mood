<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pochacco Planner üçÄ</title>

<link href="https://fonts.googleapis.com/css2?family=Hubballi&display=swap" rel="stylesheet">

<style>
  body {
    margin: 0;
    font-family: 'Hubballi', sans-serif;
    background: linear-gradient(135deg, #e9fff2, #f4fff9);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .card {
    background: white;
    width: 360px;
    padding: 20px;
    border-radius: 22px;
    border: 3px solid #c9f2dc;
    box-shadow: 0 12px 30px rgba(0,0,0,0.08);
  }

  h1 {
    margin: 0;
    text-align: center;
    color: #4fbf90;
  }

  .sub {
    text-align: center;
    font-size: 13px;
    color: #7ac7a6;
    margin-bottom: 12px;
  }

  button, input {
    font-family: 'Hubballi', sans-serif;
  }

  button {
    background: #a8e6c8;
    border: none;
    border-radius: 14px;
    padding: 8px;
    cursor: pointer;
    font-size: 14px;
  }

  button:hover {
    background: #8fd9b6;
  }

  .subject {
    background: #eafff3;
    padding: 10px;
    border-radius: 14px;
    margin: 6px 0;
    cursor: pointer;
    text-align: center;
  }

  .task {
    background: #f2fff8;
    border-radius: 12px;
    padding: 8px;
    margin: 6px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
  }

  .date {
    font-size: 11px;
    color: #6fbf9c;
  }

  .peace {
    margin-top: 16px;
    text-align: center;
  }

  .paws {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-top: 6px;
  }

  .paw {
    width: 40px;
    height: 40px;
    background: #c9f2dc;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.1s ease;
  }

  .paw:active {
    transform: scale(0.75);
  }

  .popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.2);
    display: none;
    justify-content: center;
    align-items: center;
  }

  .popup-box {
    background: white;
    padding: 16px;
    border-radius: 16px;
    width: 260px;
    border: 2px solid #c9f2dc;
  }
</style>
</head>

<body>
<div class="card" id="app"></div>

<div class="popup" id="popup">
  <div class="popup-box">
    <h3>Add Subject</h3>
    <input id="subjectName" placeholder="subject name üçÉ" style="width:100%;padding:8px;">
    <button style="width:100%;margin-top:8px;" onclick="createSubject()">add</button>
  </div>
</div>

<script>
const subjects = {};

function renderHome() {
  location.hash = "";
  const app = document.getElementById("app");
  app.innerHTML = `
    <h1>Pochacco Planner</h1>
    <div class="sub">organized but gentle</div>

    <button onclick="openPopup()">‚ûï add subject</button>

    ${Object.keys(subjects).map(s =>
      `<div class="subject" onclick="openSubject('${s}')">${s}</div>`
    ).join("")}

    <div class="peace">
      <div>peace corner üêæ</div>
      <div class="paws">
        <div class="paw"></div>
        <div class="paw"></div>
        <div class="paw"></div>
      </div>
    </div>
  `;
}

function openPopup() {
  document.getElementById("popup").style.display = "flex";
}

function createSubject() {
  const name = document.getElementById("subjectName").value.trim();
  if (!name) return;
  subjects[name] = [];
  document.getElementById("subjectName").value = "";
  document.getElementById("popup").style.display = "none";
  renderHome();
}

function openSubject(name) {
  location.hash = name;
  const app = document.getElementById("app");
  app.innerHTML = `
    <h1>${name}</h1>
    <div class="sub">Upcoming</div>

    <input id="taskText" placeholder="task ‚ú®">
    <input type="date" id="taskDate">
    <button onclick="addTask('${name}')">add task</button>

    ${subjects[name].map((t,i) => `
      <div class="task">
        <div>
          ${t.text}
          ${t.date ? `<div class="date">${t.date}</div>` : ""}
        </div>
        <button onclick="deleteTask('${name}',${i})">‚úñ</button>
      </div>
    `).join("")}

    <button style="margin-top:10px;width:100%;" onclick="renderHome()">‚Üê back</button>
  `;
}

function addTask(subject) {
  const text = document.getElementById("taskText").value;
  const date = document.getElementById("taskDate").value;
  if (!text) return;
  subjects[subject].push({ text, date });
  openSubject(subject);
}

function deleteTask(subject, index) {
  subjects[subject].splice(index,1);
  openSubject(subject);
}

renderHome();
</script>
</body>
</html>
